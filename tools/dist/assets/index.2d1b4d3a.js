import{r as m,o as d,c as _,a as h,d as g,b as y,e as v,f as L,w as E,g as O}from"./vendor.fdf82635.js";const S=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function o(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerpolicy&&(r.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?r.credentials="include":t.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(t){if(t.ep)return;t.ep=!0;const r=o(t);fetch(t.href,r)}};S();var w=(e,s)=>{const o=e.__vccOpts||e;for(const[n,t]of s)o[n]=t;return o};const P={};function b(e,s){const o=m("router-view");return d(),_(o)}var k=w(P,[["render",b]]);const x="modulepreload",l={},I="/",i=function(s,o){return!o||o.length===0?s():Promise.all(o.map(n=>{if(n=`${I}${n}`,n in l)return;l[n]=!0;const t=n.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${r}`))return;const a=document.createElement("link");if(a.rel=t?"stylesheet":x,t||(a.as="script",a.crossOrigin=""),a.href=n,document.head.appendChild(a),t)return new Promise((p,f)=>{a.addEventListener("load",p),a.addEventListener("error",f)})})).then(()=>s())},A=h.create({baseURL:"http://localhost:8080/api"}),R=g("main",{state:()=>({auth:{}}),getters:{loggedIn(e){return"token"in e.auth},bearer(e){return`Bearer ${e.auth.token}`}},actions:{login(){A.post("/auth/login",{name:"Joep",password:"test"}).then(e=>{this.auth=e.data})}}}),u=y({routes:[{name:"Home",path:"/",component:()=>i(()=>import("./HomeView.cc97c29f.js"),["assets/HomeView.cc97c29f.js","assets/HomeView.3590d234.css","assets/vendor.fdf82635.js"])},{name:"Referral",path:"/referral",meta:{auth:!0},component:()=>i(()=>import("./ReferralView.479c92c8.js"),["assets/ReferralView.479c92c8.js","assets/vendor.fdf82635.js"])},{name:"Login",path:"/login",component:()=>i(()=>import("./LoginView.fcfc05b6.js"),["assets/LoginView.fcfc05b6.js","assets/vendor.fdf82635.js"])}],history:v()});u.beforeEach((e,s)=>{const o=R();if("auth"in e.meta&&e.meta.auth===!0&&o.loggedIn===!1)return{name:"Login",query:{redirect_to:e.path}}});const c=L();try{const e=JSON.parse(localStorage.getItem("piniaState"));e!==null&&e.expires>Date.now()&&(c.state.value=e)}catch(e){console.log(e)}E(c.state,e=>{e.expires=Date.now()+1e3*60*60,localStorage.setItem("piniaState",JSON.stringify(e))},{deep:!0});O(k).use(u).use(c).mount("#app");export{w as _,A as a,R as u};
